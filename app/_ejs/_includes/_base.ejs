<% include _lib/_function -%>
<%
var page = filename.split('/')[filename.split('/').length - 1].replace('.ejs', '');
var namespace = (page ==='index') ? 'homepage' : null;
-%>
<!DOCTYPE html>
<html class="no-js" lang="ja">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="format-detection" content="telephone=no">
    <title><%= site.title + ((title) ? ' | ' + title  : ''); %></title>
    <link rel="canonical" href="<%= '//' + site.domain %>">
    <link rel="shortcut icon" href="<%= root('favicon.ico'); %>">
    <link rel="apple-touch-icon" href="<%= root('apple-touch-icon.png'); %>">
    <link rel="stylesheet" href="<%= root('styles/main.css'); %>">
    <% styles(); %>
  </head>
  <body>
    <%- include(ejsRoot('_includes/_layout/_loading-screen')); -%>
    <%- include(ejsRoot('_includes/_components/_sp-nav-icon')); -%>
    <%- include(ejsRoot('_includes/_layout/_nav')); -%>

    <main class="container-fluid">
      <div class="row">
        <div id="barba-wrapper" class="col-md-9 col-md-offset-3">
          <a class="btn btn-link btn-nav prev" href="<%= getPrevNext('prev', page); -%>">PREV</a>
          <a class="btn btn-link btn-nav next" href="<%= getPrevNext('next', page); -%>">NEXT</a>
          <div class="barba-container" data-namespace="<%= namespace %>" data-prev="<%= getPrevNext('prev', page); %>" data-next="<%= getPrevNext('next', page); %>">
            <% contents(); %>
          </div>
        </div>
      </div>
    </main>

    <script src="<%= root('scripts/main.js'); %>"></script>
    <% scripts(); %>
  </body>
</html>
