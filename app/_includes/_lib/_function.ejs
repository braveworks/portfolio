<%
/**
 *  custom function
 */

ejsRoot = './';

// root path fix
root = function(path){
  return config.rootPath + path;
};

// addã€€dns-prefetch
var dnsPrefetchUrl = [
  'ajax.googleapis.com',
  'cdnjs.cloudflare.com',
  'googleads.g.doubleclick.net',
  'pagead2.googlesyndication.com',
  'www.gstatic.com',
];
var dnsLoop = function (value){ -%><link rel = "dns-prefetch"href = "//<%= value %>" ><% };
addDnsPrefetch = function (){ dnsPrefetchUrl.forEach(dnsLoop); };

bodyClass = function(){
  var filePath = filename.split('/');
  var file = filename.split('/')[filename.split('/').length - 1].replace('.ejs', '');
  var className ='';
  var flag = false;
  filePath.forEach(function (value,key){
    if(value === 'app'){
      flag = true;
    }else if(flag){
      if(~value.indexOf('.ejs')){
        if(file !== 'index'){
          var name = value.replace('.ejs', '');
          className = (className === '')? name : className + '-' + name;
        }else{
          className = className + '';
        }
      }else{
        className = (className === '')? value : className + '-' + value;
      }
    }
  });
  return className;
};
-%>
