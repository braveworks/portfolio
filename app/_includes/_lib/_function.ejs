<%
/**
 *  custom function
 */

ejsRoot = function(path){
  var pathArr = filename.split('/').reverse();
  var count = 0;
  var flag = true;
  var relative = '';

  pathArr.forEach(function(value,key){
    if(value === 'app'){
      flag = false;
    }
    if(flag){
      count ++;
    }
  });

  if (count === 1){
    relative = './';
  }else if(count >= 2){
    var h = count - 1;
    for(i=0;i<h;i++){
      relative = relative + '../';
    }
  }

  return relative + path;
};

// root path fix
root = function(path){
  return config.rootPath + path;
};

// addã€€dns-prefetch
var dnsPrefetchUrl = [
  'ajax.googleapis.com',
  'cdnjs.cloudflare.com',
  'googleads.g.doubleclick.net',
  'pagead2.googlesyndication.com',
  'www.gstatic.com',
];
var dnsLoop = function (value){ -%><link rel="dns-prefetch" href="//<%= value %>">
<% };
addDnsPrefetch = function (){ dnsPrefetchUrl.forEach(dnsLoop); };

// add body class
// bodyClass = function() {
//   var filePath = filename.split('/');
//   var file = filename.split('/')[filename.split('/').length - 1].replace('.ejs', '');
//   return file;
// };
-%>
